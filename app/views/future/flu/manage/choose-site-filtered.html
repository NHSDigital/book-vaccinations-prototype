<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout-flu.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
Book vaccinations prototype
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}          
{{ backLink({
  href: "javascript:history.back()",
  text: "Back"
}) }}
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

    
      <!-- Change the page title here -->
      <h1 class="nhsuk-heading-xl">
        Sites near {{ data['location-input'] | default('Epping') }}
      </h1>

      <!-- Add your content here -->
      <!-- Styles and components can be found at https://service-manual.nhs.uk/design-system -->
    <div id="filtering-component">
        <div id="panel-wrapper">
            <div id="panel" style="background-color: white;">
                <details class="nhsuk-details nhsuk-expander" id="details">
                    <summary class="nhsuk-details__summary" id="summary">
                        <span class="nhsuk-details__summary-text">
                            Filter results
                        </span>
                    </summary>

                    <div id="filter-panel" class="nhsuk-details__text nhsuk-form-group__fieldset">
                     <div class="nhsuk-form-group">

                      <fieldset class="nhsuk-fieldset">

                        <label class="nhsuk-label" for="student-name" style="font-weight: bold;">
                          Only show sites with
                        </label>

                        <div class="nhsuk-checkboxes nhsuk-checkboxes--small nhsuk-u-padding-bottom-5" data-module="nhsuk-checkboxes">

                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities" name="facilities" type="checkbox" value="Baby changing facility">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities">
                              Baby changing facility
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="On-site parking" checked="true">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              On-site parking
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="Off-site parking">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              Off-site parking
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="Staff trained for disability awareness">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              Staff trained for disability awareness
                            </label>
                          </div>

                        </div>
                        
                      </fieldset>                        


                      <!--<fieldset class="nhsuk-fieldset">

                        <label class="nhsuk-label" for="student-name" style="font-weight: bold;">
                          Show site with availability
                        </label>

                        <div class="nhsuk-checkboxes nhsuk-checkboxes--small nhsuk-u-padding-bottom-5" data-module="nhsuk-checkboxes">
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities" name="facilities" type="checkbox" value="1">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities">
                              Tomorrow
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities" name="facilities" type="checkbox" value="2">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +2}) }}
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-3" name="facilities" type="checkbox" value="3">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-3">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +3}) }}
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="4">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +4}) }}
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="4">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +5}) }}
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="4">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +6}) }}
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities-4" name="facilities" type="checkbox" value="4">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities-4">
                              {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +7}) }}
                            </label>
                          </div>
                    </div>
                    </fieldset>

                      <fieldset class="nhsuk-fieldset">

                        <label class="nhsuk-label" for="student-name" style="font-weight: bold;">
                          Show sites offering
                        </label>

                        <div class="nhsuk-checkboxes nhsuk-checkboxes--small nhsuk-u-padding-bottom-5" data-module="nhsuk-checkboxes">
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities" name="facilities" type="checkbox" value="1">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities">
                              Co-admin
                            </label>
                          </div>
                          <div class="nhsuk-checkboxes__item">
                            <input class="nhsuk-checkboxes__input" id="facilities" name="facilities" type="checkbox" value="2">
                            <label class="nhsuk-label nhsuk-checkboxes__label" for="facilities">
                              Single jab
                            </label>
                          </div>
                        </div>
                      </fieldset>-->


                        

                        <form action="choose-site-filtered" method="POST">
                          <button style="float: left; clear: left; margin-top:24px;" class="nhsuk-button" data-module="nhsuk-button">
                            Apply filters
                          </button>
                        </form>

                        
                                            


                      <!--<p><a class="nhsuk-link" href="#">Clear all filters</a></p>-->


                    </div>
                    </div>
                </details>
            </div>
        </div>

      <a href="choose-site"><strong class="nhsapp-tag nhsapp-tag--filter" style="margin-top: 3px;">On-site parking  <svg class="nhsuk-icon nhsuk-icon--cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="true" aria-hidden="true" style="width: 0.8rem; height: 0.8rem;">
  <path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z" />
</svg></strong></a>


        <div id="num-selected" class="nhsuk-u-margin-top-4">
            <a href="#" id="num-filters">Clear all filters</a>
        </div>
    </div>



      <!--<div id="flu-inset" class="nhsuk-inset-text" style="display:none;">
        <span class="nhsuk-u-visually-hidden">Information: </span>
        <p>Appointment type: <span id="vaccine-display"></span></p>
        <p><a href="#" id="change-to-single">Book a COVID-19 only appointment</a>.</p>
      </div>-->
      
      <hr>
              


    <h2 class="nhsuk-heading-m">Your access needs</h2>
    <ul>
      <li>Accessible toilet</li>
      <li>Disabled parking spaces</li>
      <li>Wheelchair access</li>
    </ul>

      <p>
          <a href="access-needs">Change access needs</a>
      </p>

      
    <h2 class="nhsuk-heading-l">2 sites meet all your access needs</h2>

    <ol class="nhsuk-list results service-results">
        <li id="result_item_0" class="results__item nhsuk-u-margin-bottom-5 nhsuk-u-padding-top-7">
            <p id="distance_0" class="nhsuk-body-s"><span class="nhsuk-u-visually-hidden">This organisation is &nbsp;</span>0.2 miles away</p>
            <form action="choose-date" method="get" class="form">
                <span class="nhsapp-tag nhsapp-tag--blue">GP practice</span>
                <h3 class="nhsuk-heading-m nhsuk-u-padding-top-0">The Surgery (Brooke Road)</h3>
                <p name="address" class="nhsuk-list nhsuk-u-margin-bottom-2;" style="margin-bottom: 8px;">
                    <span class="nhsuk-u-visually-hidden">Address for this organisation is &nbsp;</span>Brooke Road Surgery, 40-42 Brooke Road, Stoke Newington, London, Greater London, N16 7LR</p>
                    
                    <p class="nhsuk-u-margin-bottom-0 nhsuk-u-padding-top-0" style="padding-bottom: 8px;">
                        <a id="map_link_0" href="https://www.google.com/maps/place/Benjamin+Chemist/@51.562084,-0.0760146,17z/data=!3m1!4b1!4m6!3m5!1s0x48761c60d5fa851d:0xda497e41847bcaae!8m2!3d51.5620807!4d-0.0734397!16s%2Fg%2F1th81fc3?entry=ttu&g_ep=EgoyMDI0MDgyNi4wIKXMDSoASAFQAw%3D%3D" rel="noreferrer" class="maplink">
                            Get directions (opens in Google maps)<span class="nhsuk-u-visually-hidden">&nbsp;for this organisation</span>
                        </a>
                    </p>
                    <p><span class="nhsuk-u-visually-hidden">Phone number:</span>02072545652</p>

                    <p>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to bus stop</strong>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to tube station</strong>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Gender inclusive toilet</strong></p>




                    <div class="nhsuk-form-group">
                        <button class="nhsuk-action-link action-link-button" data-module="nhsuk-button" type="submit" style="border: 0px; background-color: #f0f4f5; cursor: pointer;"  name="pharmacy" value="Brooke Road Surgery, 40-42 Brooke Road, Stoke Newington, London, Greater London, N16 7LR">
                            <svg class="nhsuk-icon nhsuk-icon__arrow-right-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="36" height="36">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"></path>
                            </svg>
                            <a>Book at The surgery (Brooke road)</a>
                        </button>
                    </div>
        </li>
        <li id="result_item_1" class="results__item nhsuk-u-margin-bottom-5 nhsuk-u-padding-top-7">
                    <p id="distance_0" class="nhsuk-body-s nhsuk-u-margin-bottom-3"><span class="nhsuk-u-visually-hidden">This organisation is &nbsp;</span>0.1 miles away</p>
                    <form action="choose-date" method="get" class="form">
                        <!--<span class="nhsapp-tag nhsapp-tag--green">Your chosen pharmacy</span>-->

                        <h3 class="nhsuk-heading-m nhsuk-u-padding-top-0">Benjamin Chemist</h3>

                        <div class="nhsuk-inset-text nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-3 nhsuk-u-padding-top-0 nhsuk-u-padding-bottom-0" style="border-left-color: #007f3b;">
                            <p id="opening_hour_status_mesg_0" class="callout--info__mesg nhsuk-u-font-weight-bold nhsuk-u-margin-bottom-1">Accepts walk-ins</p>
                            <p><a href="walk-in">Find out when you can walk in</a></p>
                        </div>

                <p name="address" class="nhsuk-list nhsuk-u-margin-bottom-2;" style="margin-bottom: 8px;">
                            <span class="nhsuk-u-visually-hidden">Address for this organisation is &nbsp;</span>
                            190 S/NEWINGTON HIGH ST, STOKE NEWINGTON, LONDON, N16 7JD
                        </p>

                        <p class="nhsuk-u-margin-bottom-0 nhsuk-u-padding-top-0" style="padding-bottom: 8px;">
                            <a id="map_link_0" href="https://www.google.com/maps/place/Benjamin+Chemist/@51.562084,-0.0760146,17z/data=!3m1!4b1!4m6!3m5!1s0x48761c60d5fa851d:0xda497e41847bcaae!8m2!3d51.5620807!4d-0.0734397!16s%2Fg%2F1th81fc3?entry=ttu&g_ep=EgoyMDI0MDgyNi4wIKXMDSoASAFQAw%3D%3D" rel="noreferrer" class="maplink">
                                Get directions (opens in Google maps)
                                <span class="nhsuk-u-visually-hidden">&nbsp;for this organisation</span>
                            </a>
                        </p>
                        <p><span class="nhsuk-u-visually-hidden">Phone number:</span>
                            02072542696
                        </p>

                    <p><strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to bus stop</strong>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to tube station</strong></p>

                    <div class="nhsuk-form-group">
                        <button class="nhsuk-action-link action-link-button" data-module="nhsuk-button" type="submit" style="border: 0px; background-color: #f0f4f5; cursor: pointer;"  name="pharmacy" value="Benjamin Chemist, 190 S/NEWINGTON HIGH ST, STOKE NEWINGTON, LONDON, N16 7JD">
                            <svg class="nhsuk-icon nhsuk-icon__arrow-right-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="36" height="36">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"></path>
                            </svg>
                            <a>Book at Benjamin Chemist</a>
                        </button>
                    </div>
        </li>

        </ol>

            <h2 class="nhsuk-heading-l">2 sites meet 2 out of 3 access needs</h2>

           <details class="show-more">
  <summary class="show-more__summary">
    <span class="show-more__summary-text">
      Show sites
      </span>
      </summary>

            <div class="show-more__text">
              <ol class="nhsuk-list results service-results">
              <li id="result_item_2" class="results__item nhsuk-u-margin-bottom-5 nhsuk-u-padding-top-7">
    <p id="distance_0" class="nhsuk-body-s nhsuk-u-margin-bottom-2"><span class="nhsuk-u-visually-hidden">This organisation is &nbsp;</span>0.4 miles away</p>
      <p>This site does not have: <span class="nhsapp-tag nhsapp-tag--red">Wheelchair access</span> <span class="nhsapp-tag nhsapp-tag--yellow">On-site parking</span> </p>
  
    <h3 class="nhsuk-heading-m">Green Light Pharmacy</h3>

    
    <p id="address_0" class="nhsuk-list nhsuk-u-margin-bottom-2">
    <span class="nhsuk-u-visually-hidden">Address for this organisation is &nbsp;</span>
    170-172 Stamford Hill, London, N16 6QX
    </p>
                

                        <p class="nhsuk-u-margin-bottom-0 nhsuk-u-padding-top-0" style="padding-bottom: 8px;">
        <a id="map_link_0" href="https://www.google.com/maps/place/Green+Light+Pharmacy+-+Stamford+Hill+Broadway/@51.572472,-0.0913213,15z/data=!4m6!3m5!1s0x48761c698bfa120d:0x98c1d9aa3075d56f!8m2!3d51.572472!4d-0.0722669!16s%2Fg%2F1hc4pg4v6?entry=ttu&g_ep=EgoyMDI0MDgyNi4wIKXMDSoASAFQAw%3D%3D" rel="noreferrer" class="maplink">
          Get directions (opens in Google maps)
          <span class="nhsuk-u-visually-hidden">&nbsp;for this organisation</span>
        </a>
        </p>
        <p><span class="nhsuk-u-visually-hidden">Phone number:</span>
          02088006166
    </p>

                    <p>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to tube station</strong>
                  </p>

                
    
      <div class="nhsuk-form-group">
              <button class="nhsuk-action-link action-link-button" data-module="nhsuk-button" type="submit" style="border: 0px; background-color: #f0f4f5; cursor: pointer;"  name="pharmacy" value="Green Light Pharmacy, 170-172 Stamford Hill, London, N16 6QXD">
                <svg class="nhsuk-icon nhsuk-icon__arrow-right-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="36" height="36">
                  <path d="M0 0h24v24H0z" fill="none"></path>
                  <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"></path>
                </svg>
                <a>Book at Green Light Pharmacy</a>
              </button>
    </div>
        </li>
        <li id="result_item_3" class="results__item nhsuk-u-margin-bottom-5 nhsuk-u-padding-top-7">
        <p id="distance_0" class="nhsuk-body-s nhsuk-u-margin-bottom-2"><span class="nhsuk-u-visually-hidden">This organisation is &nbsp;</span>0.7 miles away</p>
             <p>This site does not have: <span class="nhsapp-tag nhsapp-tag--red">Disabled parking</span> </p>
       
        <h3 class="nhsuk-heading-m">Asvacare Limited - Clapton</h3>


        
        <p id="address_0" class="nhsuk-list nhsuk-u-margin-bottom-2">
        <span class="nhsuk-u-visually-hidden">Address for this organisation is &nbsp;</span>
        97, Upper Clapton road, Clapton, London, E59BU
        </p>
                    


                        <p class="nhsuk-u-margin-bottom-0 nhsuk-u-padding-top-0" style="padding-bottom: 8px;">
            <a id="map_link_0" href="https://www.google.com/maps/place/AsvaCare+Pharmacy/@51.5639956,-0.061973,17z/data=!3m1!4b1!4m6!3m5!1s0x48761dbe78e1b911:0x5eee18fc5695214!8m2!3d51.5639923!4d-0.0593981!16s%2Fg%2F11qm0ft81t?entry=ttu&g_ep=EgoyMDI0MDgyNi4wIKXMDSoASAFQAw%3D%3D" rel="noreferrer" class="maplink">
              Get directions (opens in Google maps)
              <span class="nhsuk-u-visually-hidden">&nbsp;for this organisation</span>
            </a>
            </p>
 <p><span class="nhsuk-u-visually-hidden">Phone number:</span>
        02088053316
        </p>    
        
                            <p>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to tube station</strong>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Close to bus station</strong>
                    <strong class="nhsapp-tag nhsapp-tag--purple" style="margin-top: 3px;">Quiet room available</strong>
                  </p>

        
          <div class="nhsuk-form-group">
                  <button class="nhsuk-action-link action-link-button" data-module="nhsuk-button" type="submit" style="border: 0px; background-color: #f0f4f5; cursor: pointer;"  name="pharmacy" value="Asvacare Limited - Clapton, 97, Upper Clapton road, Clapton, London, E59BU">
                <svg class="nhsuk-icon nhsuk-icon__arrow-right-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="36" height="36">
                  <path d="M0 0h24v24H0z" fill="none"></path>
                  <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"></path>
                </svg>
                    <a>Book at Asvacare Limited - Clapton</a>
                  </button>
        </div>        
        </li>
    </ol>

                <h2 class="nhsuk-heading-l">4 sites match some of your access needs</h2>
                <p><a>Show sites</a></p>

    </div>
    
      <!-- End of content -->

    </div>
  </div>
      </div></div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  function initVaccineChoice(options = {}) {
    const insetId = options.insetId || "flu-inset";
    const linkId = options.linkId || "change-to-single";
    const displayId = options.displayId || "vaccine-display";

    const inset = document.getElementById(insetId);
    const changeLink = document.getElementById(linkId);
    const displaySpan = document.getElementById(displayId);

    // Get stored value
    let vaccineChoice = localStorage.getItem("vaccineChoice");

    // If no value exists or blank, default to "Flu"
    if (!vaccineChoice || vaccineChoice.trim() === "") {
      vaccineChoice = "COVID-19";
      localStorage.setItem("vaccineChoice", vaccineChoice);
    }

    // Show inset only if vaccineChoice is "COVID-19 and RSV"
    if (inset) {
      inset.style.display = (vaccineChoice === "COVID-19 and RSV") ? "block" : "none";
    }

    // Handle link click to switch to "COVID-19" and hide inset
    if (inset && changeLink) {
      changeLink.addEventListener("click", function (e) {
        e.preventDefault();
        vaccineChoice = "COVID-19";
        localStorage.setItem("vaccineChoice", vaccineChoice);
        inset.style.display = "none";
        // Update display if on the same page
        if (displaySpan) {
          displaySpan.textContent = vaccineChoice;
        }
      });
    }

    // Display vaccine choice anywhere on page
    if (displaySpan) {
      displaySpan.textContent = vaccineChoice;
    }
  }

  // Initialize with default IDs
  initVaccineChoice();
});
</script>

  {% endblock %}
