<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout-rsv.html' %}<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
Book vaccinations prototype
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
{{ backLink({
  href: "javascript:history.back()",
  text: "Back"
}) }}
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
<div class="nhsuk-grid-column-two-thirds">

      <!-- Change the page title here -->

      <!-- Add your content here -->
      <!-- Styles and components can be found at https://service-manual.nhs.uk/design-system -->


      <form action="manageJointAppointment" method="get" class="form">

        <div class="nhsuk-form-group">
            <fieldset class="nhsuk-fieldset" aria-describedby="example-hint" role="group">
              <legend class="nhsuk-fieldset__legend nhsuk-label--l">
                <h1 class="nhsuk-fieldset__heading">
                  What would you like to do with this appointment?
                </h1>
              </legend>

          <dl class="nhsuk-summary-list">  
            <div class="nhsuk-summary-list__row">
              <dt class="nhsuk-summary-list__key">
               {{ data['first-name'] | default('John') }} {{ data['last-name'] | default('Doe') }}
              </dt>
              <dd class="nhsuk-summary-list__value">
               {{data['hour'] | default('10') }}{{data['time'] | default(':30am') }}<br>RSV
              </dd>
          
            </div>


          </dl>     

    
    
              <h2 class="nhsuk-heading-m">Appointment</h2>
          <dl class="nhsuk-summary-list">  
            <div class="nhsuk-summary-list__row">
              <dt class="nhsuk-summary-list__key">
                Site location
              </dt>
              <dd class="nhsuk-summary-list__value">
                Benjamin Chemist<br>190 S/Newington High st<br>Stoke Newington<br>London<br>N16 7JD
              </dd>
          
          
            </div>

            <div class="nhsuk-summary-list__row">
                <dt class="nhsuk-summary-list__key">
                  Date
                </dt>
                <dd class="nhsuk-summary-list__value">
                  {{ date({weekday: 'long', day: 'numeric', month: 'long'}, {'day': +2}) }}
                </dd>
            

            
              </div>  
          
          </dl>       
          
          
          <div class="nhsuk-radios" data-module="nhsuk-radios">
      
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="nhs-no-radio" name="radioGroup" type="radio" value="change">
                  <label class="nhsuk-label nhsuk-radios__label" for="nhs-no-radio-change">
                    View other available appointments
                  </label>
                </div>
          
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="nhs-no-radio" name="radioGroup" type="radio" value="cancel">
                  <label class="nhsuk-label nhsuk-radios__label" for="nhs-no-radio-cancel">
                    Cancel the appointment
                  </label>
                </div>

                <div class="nhsuk-radios__item">
                    <input class="nhsuk-radios__input" id="nhs-no-radio" name="radioGroup" type="radio" value="home">
                    <label class="nhsuk-label nhsuk-radios__label" for="nhs-no-radio-home">
                      Go back to start
                    </label>
                  </div>
  
              </div>
    
            </fieldset>
          
          </div>

        <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
          Continue
        </button>    </form>
    
      </div>      <!-- End of content -->

    </div>
  </div>

    <script>
document.addEventListener("DOMContentLoaded", function () {
  let vaccineChoice = localStorage.getItem("vaccineChoice");

  // Always ensure a valid value
  if (!vaccineChoice || vaccineChoice.trim() === "" || vaccineChoice === "RSV and COVID-19-hidden") {
    vaccineChoice = "RSV";
    localStorage.setItem("vaccineChoice", vaccineChoice);
  }

  document.getElementById("vaccine-display").textContent = vaccineChoice;
});
</script>

{% endblock %}
