<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout-rsv.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
Book vaccinations prototype
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
<a class="nhsuk-back-link" href="javascript:history.back()">Back</a>
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

      <!-- Change the page title here -->

      <!-- Add your content here -->
      <!-- Styles and components can be found at https://service-manual.nhs.uk/design-system -->


      <form action="add-person" method="get" class="form">

        <div class="nhsuk-form-group">
            <fieldset class="nhsuk-fieldset" aria-describedby="example-hint" role="group">
              <legend class="nhsuk-fieldset__legend nhsuk-label--l">
                <h1 class="nhsuk-fieldset__heading">
                  Do you want to book a COVID-19 vaccine for {{ data['first-name'] | default('John') }} {{ data['last-name'] | default('Doe') }} in the same appointment?                
                </h1>
              </legend>
              <div class="nhsuk-hint" id="example-hint">
                If you want to book the vaccines separately, you can use the RSV booking service to book a RSV vaccination appointment for another day.
              </div>
          
              <div class="nhsuk-radios" data-module="nhsuk-radios">

                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="example-1" name="vaccine1" type="radio" value="RSV and COVID-19">
                  <label class="nhsuk-label nhsuk-radios__label" for="example-1">
                    Yes, book an RSV and COVID-19 vaccination in the same appointment
                  </label>
                </div>
          
                <div class="nhsuk-radios__item">
                  <input class="nhsuk-radios__input" id="example-2" name="vaccine1" type="radio" value="RSV">
                  <label class="nhsuk-label nhsuk-radios__label" for="example-2">
                    No, only book an RSV vaccination
                  </label>
                </div>
            </fieldset>
          
          </div>

        <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
          Continue
        </button>    </form>
    
      </div>
      <!-- End of content -->

    </div>
  </div>

    <script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("form");

  form.addEventListener("submit", function (event) {
    const selected = document.querySelector('input[name="vaccine1"]:checked');
    if (selected) {
      localStorage.setItem("vaccineChoice1", selected.value);
    }
  });
});
</script>
{% endblock %}
